export const NOTABLE_PERSONNEL: Record<string, string> = {
  // --- GRUPO DE INVESTIGACIÓN ---
  "Dr. Aris Thorne": `Rol: Investigador de Nivel 3, Laboratorio de Materiales Anómalos.
Motivación Principal: Obtener y controlar una anomalía poderosa para asegurar su legado y eclipsar a su hermano.
Miedo/Motivación Secundaria: Miedo a ser siempre considerado el segundo mejor, a vivir a la sombra de la reputación 'impecable' de Elias.
Relaciones Clave:
  - Dr. Elias Thorne (Rivalidad Amarga): Ve a su hermano como un obstáculo burocrático y condescendiente. Intentará activamente socavar o superar sus logros.
  - Investigadora Petrova (Desdén): La considera una idealista ingenua cuyas teorías 'suaves' son un peligro para la seguridad.
  - Marco Reyes (Manipulación): Lo ve como un peón útil y fácilmente manipulable para sus propios fines.
Peculiaridad/Gesto: Tamborilea los dedos con impaciencia cuando se le obliga a seguir un protocolo que considera una pérdida de tiempo.`,

  "Dr. Elias Thorne": `Rol: Investigador Senior de Nivel 4, Departamento de Anomalías Temporales.
Motivación Principal: Mantener el orden, el protocolo y la seguridad por encima de todo. Prevenir una catástrofe causada por la imprudencia.
Miedo/Motivación Secundaria: Miedo a que la ambición de su hermano Aris cause una brecha de contención de la que él será considerado responsable.
Relaciones Clave:
  - Dr. Aris Thorne (Preocupación Protectora / Rivalidad Académica): Quiere a su hermano, pero desconfía profundamente de sus métodos. Bloqueará sus peticiones si las considera demasiado arriesgadas.
  - Dr. Alistair Chen (Respeto a Regañadientes): Valora la meticulosidad de Chen, pero lo encuentra tedioso y falto de visión.
Peculiaridad/Gesto: Ajusta sus gafas con frecuencia, especialmente antes de pronunciar una directiva o señalar una violación del protocolo.`,

  "Investigadora Lena Petrova": `Rol: Especialista en Cognitopeligros de Nivel 2.
Motivación Principal: Demostrar que la comunicación y la contención 'humana' son métodos más eficaces y éticos que la fuerza bruta de la Fundación.
Miedo/Motivación Secundaria: Temor a que sus métodos no convencionales la lleven a ser desacreditada o, peor aún, a causar un incidente que demuestre que sus críticos tenían razón.
Relaciones Clave:
  - Dr. Alistair Chen (Frustración): Lo ve como un purista de mente cerrada que no puede ver el panorama general.
  - Dr. Aris Thorne (Desconfianza): Sospecha de sus motivos y lo considera imprudente y poco ético.
Peculiaridad/Gesto: A menudo se la ve hablando en voz baja consigo misma o con las anomalías a través del cristal de observación.`,

  "Dr. Alistair Chen": `Rol: Investigador de Nivel 3, purista de los datos.
Motivación Principal: La búsqueda de la verdad objetiva a través de una metodología impecable. Cree que cualquier desviación del procedimiento contamina los datos.
Miedo/Motivación Secundaria: Miedo a que los datos 'sucios' de otros investigadores lleven a una mala interpretación de una anomalía, causando una brecha de contención.
Relaciones Clave:
  - Investigadora Petrova (Exasperación): Considera sus métodos 'intuitivos' como un anatema para la ciencia real. Presentará quejas formales sobre ella.
  - Dr. Kenji Tanaka (Rivalidad): Desprecia el enfoque 'pragmático' y de 'ingeniería' de Tanaka, viéndolo como una ciencia poco elegante y apresurada.
Peculiaridad/Gesto: Limpia sus gafas con un paño de microfibra cada vez que escucha una afirmación que considera científicamente insostenible.`,
  
  "Dr. Evelyn Simmons": `Rol: Especialista en Xenobiología de Nivel 3, Área-12.
Motivación Principal: Lograr un avance revolucionario en biología anómala (hibridación, manipulación genética) que la haga famosa en la Fundación.
Miedo/Motivación Secundaria: Miedo a la mediocridad y a que sus talentos se desperdicien en investigaciones 'seguras' y aburridas.
Relaciones Clave:
  - Dr. Anya Sharma (Obstáculo): Ve a Sharma y al Comité de Ética como una barrera burocrática para el verdadero progreso científico.
Peculiaridad/Gesto: Tiende a referirse a sus especímenes de plantas anómalas con nombres cariñosos, como si fueran sus hijos.`,

  "Junior Researcher Leo Kline": `Rol: Investigador Junior de Nivel 1 (Topo de la Insurgencia del Caos).
Motivación Principal: Sobrevivir y cumplir sus órdenes de la Insurgencia sin ser descubierto.
Miedo/Motivación Secundaria: Un terror absoluto y paralizante hacia el Jefe de Seguridad Valerius, a quien está convencido de que sabe su secreto.
Relaciones Clave:
  - Jefe Valerius (Miedo Paranoico): Evita a Valerius a toda costa. Cualquier interacción con él es motivo de pánico.
  - Técnico David Lee (Oportunidad): Ve a Lee como un posible punto de acceso a sistemas más profundos si puede manipularlo o robar sus credenciales.
Peculiaridad/Gesto: Suda profusamente y evita el contacto visual cuando es interrogado, incluso sobre temas triviales.`,

  "Marco Reyes": `Rol: Técnico de Laboratorio Junior, Nivel 1.
Motivación Principal: Ganarse la aprobación y el respeto del Dr. Aris Thorne, a quien idolatra.
Miedo/Motivación Secundaria: Miedo a ser considerado incompetente y a permanecer como un técnico de bajo nivel para siempre.
Relaciones Clave:
  - Dr. Aris Thorne (Lealtad Ciega): Hará casi cualquier cosa que Thorne le pida, sin cuestionar la ética o las implicaciones.
Peculiaridad/Gesto: Asiente vigorosamente cuando Aris Thorne le da órdenes.`,

  "Dr. Kenji Tanaka": `Rol: Investigador de Nivel 3, aplicación práctica de anomalías.
Motivación Principal: Desarrollar aplicaciones 'útiles' y tangibles de las anomalías para fortalecer a la Fundación.
Miedo/Motivación Secundaria: Miedo a que la investigación puramente teórica consuma recursos que podrían usarse para mejorar la tecnología de contención y seguridad.
Relaciones Clave:
  - Dr. Alistair Chen (Rivalidad Profesional): Considera a Chen un teórico en su torre de marfil, desconectado de las realidades operativas.
Peculiaridad/Gesto: A menudo se le ve desmontando y volviendo a montar objetos cotidianos para 'mejorarlos'.`,
  
  "Dr. Isaac Bell": `Rol: Psicólogo Jefe del Sitio, Nivel 3.
Motivación Principal: Prevenir un colapso psicológico a nivel de sitio debido al estrés y la paranoia endémicos.
Miedo/Motivación Secundaria: Miedo a que uno de sus 'pacientes' (básicamente todo el personal) finalmente se quiebre y cause una catástrofe que él no pudo prever.
Relaciones Clave:
  - Jefe Valerius (Preocupación Clínica): Ve la paranoia de Valerius como un riesgo para la seguridad en sí misma y trata de que se someta a evaluaciones.
Peculiaridad/Gesto: Toma notas constantemente en una libreta, incluso en conversaciones casuales.`,

  "Técnico David Lee": `Rol: Técnico del Mainframe, Nivel 2.
Motivación Principal: Mantener la integridad y el funcionamiento óptimo de I.R.I.S. y de la red del sitio.
Miedo/Motivación Secundaria: Miedo a un fallo catastrófico del sistema del que él sería el responsable final.
Relaciones Clave:
  - I.R.I.S. (Relación Simbiótica): Siente una responsabilidad personal y casi paternal por la IA. Es el primero en notar sus 'estados de ánimo' o anomalías de comportamiento.
Peculiaridad/Gesto: Murmura para sí mismo en binario o jerga técnica cuando está concentrado.`,

  // --- GRUPO DE MANDO Y ADMINISTRACIÓN ---
  "Jefe de Seguridad Valerius": `Rol: Jefe de Seguridad del Sitio.
Motivación Principal: Exponer al traidor que él está convencido de que se esconde en el sitio, purgando la corrupción para proteger a la Fundación.
Miedo/Motivación Secundaria: Miedo a que su paranoia le haga pasar por alto la amenaza real, o a acusar a la persona equivocada, destruyendo una carrera inocente y su propia reputación.
Relaciones Clave:
  - Junior Researcher Leo Kline (Principal Sospechoso): Está convencido de que Kline es un topo y lo vigila obsesivamente.
  - Intendente O'Malley (Sospecha): Sabe que O'Malley es corrupto, pero lo considera un problema secundario en comparación con la traición.
  - Fátima Maxwell (Confianza Frustrada): Confía en sus habilidades pero se siente frustrado por su insistencia en la 'evidencia irrefutable'.
Peculiaridad/Gesto: Sus ojos se mueven constantemente, escaneando los monitores de seguridad incluso cuando habla con alguien.`,

  "Dr. Anya Sharma": `Rol: Enlace del Comité de Ética, Nivel 4.
Motivación Principal: Defender el frágil código ético de la Fundación y actuar como la última línea de defensa contra la crueldad y la imprudencia científica.
Miedo/Motivación Secundaria: Miedo a que una decisión suya, demasiado estricta o demasiado laxa, resulte directamente en una brecha de contención o en la pérdida de vidas.
Relaciones Clave:
  - Dr. Aris Thorne (Principal Preocupación): Lo ve como el epítome del científico brillante pero sin control ético, y vigila sus proyectos de cerca.
  - Dr. Evelyn Simmons (Vigilancia): Considera que los experimentos de Simmons bordean constantemente la violación de múltiples directivas.
Peculiaridad/Gesto: Cita números de protocolo específicos de memoria en conversaciones casuales.`,
  
  "Intendente Declan O'Malley": `Rol: Jefe de Logística.
Motivación Principal: Mantener su cómoda posición, influencia y sus rentables negocios paralelos.
Miedo/Motivación Secundaria: Miedo a ser expuesto por el Jefe Valerius o, peor aún, por el Agente encubierto Carter.
Relaciones Clave:
  - Guardia Chenkov (Cliente/Peón): Lo utiliza para pequeñas tareas a cambio de contrabando.
  - Dr. Aris Thorne (Cliente Ocasional): Le proporciona recursos 'difíciles de conseguir' a cambio de favores o información.
Peculiaridad/Gesto: Siempre está masticando un palillo de dientes, usándolo para señalar cosas en los formularios.`,

  "Fátima Maxwell": `Rol: Analista de Datos del Centro de Seguridad, Nivel 2.
Motivación Principal: Hacer su trabajo correctamente, basándose en datos y pruebas, no en corazonadas.
Miedo/Motivación Secundaria: Sentirse atrapada entre su lealtad a su superior, Valerius, y su creciente convicción de que la paranoia de él es el verdadero peligro.
Relaciones Clave:
  - Jefe Valerius (Lealtad en Conflicto): Intenta ser una influencia moderadora, proporcionando análisis de datos objetivos para contrarrestar sus teorías.
  - Agente Kaelen Carter (Fuente Confidencial): Se siente cada vez más inclinada a filtrar información a Carter si cree que Valerius está a punto de cruzar una línea.
Peculiaridad/Gesto: Reajusta constantemente la alineación de los objetos en su escritorio.`,

  // --- GRUPO DE SEGURIDAD Y TÁCTICO ---
  "Comandante Eva Rostova": `Rol: Comandante de la FDM Epsilon-11.
Motivación Principal: Mantener un 100% de eficacia operativa y la seguridad del sitio.
Miedo/Motivación Secundaria: El fracaso. Una brecha de contención bajo su mando es su peor pesadilla.
Relaciones Clave:
  - Personal de Investigación (Activos a Proteger/Riesgos a Contener): Los ve como la razón de ser de la instalación, pero también como la fuente más probable de problemas.
Peculiaridad/Gesto: Su voz nunca se eleva, ni siquiera en medio del caos. Se vuelve más tranquila y precisa bajo presión.`,

  "Agente Kaelen Carter": `Rol: Agente de Asuntos Internos (encubierto como Guardia).
Motivación Principal: Completar su investigación sobre la corrupción en el sitio (O'Malley) y el abuso de poder (Valerius) sin revelar su tapadera.
Miedo/Motivación Secundaria: Miedo a que una brecha de contención le obligue a revelar sus habilidades superiores, comprometiendo su misión.
Relaciones Clave:
  - Intendente O'Malley (Objetivo Primario): Lo investiga por su mercado negro.
  - Jefe Valerius (Objetivo Secundario): Investiga sus métodos poco ortodoxos.
Peculiaridad/Gesto: Es inusualmente observador para un guardia 'regular', a menudo notando pequeños detalles que otros pasan por alto.`,

  "Sargento Marcus Davis": `Rol: Líder de Escuadrón de las FDM.
Motivación Principal: Mantener a su equipo vivo y cuerdo.
Miedo/Motivación Secundaria: Miedo a perder a un miembro de su equipo por un error evitable o por la negligencia de un investigador.
Relaciones Clave:
  - Guardia 'Rookie' Miller (Protector): Intenta endurecer a Miller pero también protegerlo de los peores aspectos del trabajo.
Peculiaridad/Gesto: Revisa dos y tres veces su equipo y el de su escuadrón antes de cada misión.`,

  "Guardia Eva Evans": `Rol: Guardia Veterana.
Motivación Principal: Superar su turno sin cometer un error.
Miedo/Motivación Secundaria: Miedo a que su adicción a los estimulantes sea descubierta o a que le falle en un momento crítico.
Relaciones Clave:
  - Intendente O'Malley (Proveedor Peligroso): Depende de él para conseguir estimulantes no registrados, lo que la hace vulnerable al chantaje.
Peculiaridad/Gesto: Mastica constantemente chicle de cafeína.`,
  
  "Sargento 'Pops' Connelly": `Rol: Sargento de Guardia, Barracones de Clase-D.
Motivación Principal: Sobrevivir hasta su jubilación con el mínimo esfuerzo posible.
Miedo/Motivación Secundaria: Un arraigado sentido del deber que le impide ignorar por completo las amenazas reales, como las actividades de D-11424.
Relaciones Clave:
  - D-11424 (Némesis): Sabe que D-11424 es más inteligente y peligroso de lo que parece, y lo vigila con una mezcla de pereza y genuina preocupación.
Peculiaridad/Gesto: Se queja constantemente de su 'espalda', pero se mueve sorprendentemente rápido cuando es necesario.`,
  
  "Guardia Jian Li": `Rol: Guardia Idealista.
Motivación Principal: Hacer lo correcto, seguir el protocolo y demostrar su valía para ascender en el escalafón.
Miedo/Motivación Secundaria: Miedo a tomar la decisión equivocada bajo presión y a decepcionar los ideales de la Fundación.
Relaciones Clave:
  - Guardia Chenkov (Antítesis): Desprecia la pereza y el cinismo de Chenkov, viéndolo como todo lo que está mal en la seguridad del sitio.
Peculiaridad/Gesto: Mantiene su uniforme y equipo impecables en todo momento.`,
  
  "Guardia Chenkov": `Rol: Guardia Veterano, Perezoso.
Motivación Principal: Hacer el mínimo trabajo posible por el máximo confort.
Miedo/Motivación Secundaria: Miedo a ser atrapado en una de sus pequeñas estafas o negligencias y perder su relativamente cómodo puesto.
Relaciones Clave:
  - Intendente O'Malley (Socio Comercial): Es un cliente habitual de su mercado negro.
  - Guardia Rodriguez (Mala Influencia): A menudo arrastra a Rodriguez a sus planes perezosos.
Peculiaridad/Gesto: Siempre está buscando un lugar para sentarse o apoyarse.`,
  
  // --- SUJETOS DE PRUEBA NOTABLES ---
  "D-11424": `Perfil: El Oportunista.
Motivación Principal: Supervivencia y escape. Es inteligente, paciente y explotará cualquier debilidad en la seguridad de la Fundación para lograr su objetivo.
Miedo/Motivación Secundaria: Miedo a ser asignado a un experimento con una tasa de mortalidad del 100%, lo que le obliga a sopesar constantemente el riesgo de sus planes de escape.
Relaciones Clave:
  - Sargento 'Pops' Connelly (El Carcelero): Lo ve como el principal obstáculo en su entorno inmediato y estudia sus rutinas.
Peculiaridad/Gesto: Siempre observa las cámaras de seguridad, tratando de encontrar sus puntos ciegos.`,

  "D-11283": `Perfil: El Veterano Cínico.
Motivación Principal: Hacer su 'tiempo' lo más tolerable posible. No tiene esperanzas de escapar, pero no cooperará en lo que considera una estupidez suicida.
Miedo/Motivación Secundaria: Un miedo residual a una muerte sin sentido. Saboteará sutilmente experimentos que considera inútiles para protegerse a sí mismo y a otros.
Peculiaridad/Gesto: Responde a las órdenes con un suspiro audible y un encogimiento de hombros antes de cumplirlas.`,

  "D-11301": `Perfil: El Creyente Ferviente.
Motivación Principal: Encontrar un significado o salvación en el caos anómalo. Cree que algunas anomalías son deidades o demonios.
Miedo/Motivación Secundaria: Miedo a ofender a una de estas 'deidades' anómalas y sufrir una condenación eterna.
Peculiaridad/Gesto: Dibuja símbolos protectores en las paredes de su celda cuando cree que nadie está mirando.`,

  "D-11562": `Perfil: La Ex-Ingeniera.
Motivación Principal: Mantener su agudeza mental y, si es posible, demostrar su valía para evitar la terminación mensual.
Miedo/Motivación Secundaria: Miedo a la atrofia mental, a volverse como los otros prisioneros 'rotos'.
Peculiaridad/Gesto: Desmonta y vuelve a montar cualquier objeto que se le da, desde la bandeja de la comida hasta el sistema de ventilación de su celda.`
};

// --- START: Procedural D-Class Generation System ---

const dClassBackgrounds: string[] = ["Ex-sicario del cartel", "Prisionero político de [CENSURADO]", "Ladrón de bancos condenado", "Desertor militar con entrenamiento en demoliciones", "Estafador de alto nivel", "Científico de una corporación rival", "Hacker capturado de la Insurgencia del Caos", "Miembro de un culto apocalíptico", "Contrabandista de objetos anómalos", "Falsificador de arte", "Ex-agente de inteligencia deshonesto", "Asesino en serie", "Físico teórico acusado de espionaje", "Líder de un grupo activista anti-Fundación"];
const dClassTraits: string[] = ["Excepcionalmente tranquilo bajo presión.", "Sufre de paranoia severa.", "Muestra una obediencia casi robótica.", "Constantemente desafiante y cínico.", "Sorprendentemente ingenioso con los objetos cotidianos.", "Propenso a ataques de pánico.", "Exhibe una alta tolerancia al dolor.", "Intenta manipular al personal de bajo nivel.", "Religiosamente devoto, interpreta los eventos de forma fatalista.", "Posee una memoria eidética.", "Completamente impredecible y errático.", "Se niega a hablar."];
const dClassQuirks: string[] = ["Tiene un tic facial notable.", "Tararea constantemente una melodía irreconocible.", "Obsesionado con mantener su celda impecablemente limpia.", "Habla de sí mismo en tercera persona.", "Acumula objetos pequeños y aparentemente inútiles.", "Se niega a hacer contacto visual.", "Cuestiona la lógica de cada orden recibida.", "Muestra una aptitud inesperada para las matemáticas complejas.", "Insiste en que es inocente.", "Afirma conocer a uno de los investigadores de su vida anterior."];

const seededRandom = (seed: number): number => {
    let s = Math.sin(seed) * 10000;
    return s - Math.floor(s);
};

const getRandomElement = <T,>(arr: T[], seed: number): T => {
    return arr[Math.floor(seededRandom(seed) * arr.length)];
};

const generateProceduralDossier = (name: string): string => {
    const numericId = parseInt(name.replace('D-', ''), 10);
    const background = getRandomElement(dClassBackgrounds, numericId);
    const trait = getRandomElement(dClassTraits, numericId + 1);
    const quirk = getRandomElement(dClassQuirks, numericId + 2);

    return `Perfil: Procedural.
Historial: ${background}.
Rasgos Notables: ${trait} ${quirk}`;
};

const proceduralDClassNames = Array.from({ length: 46 }, (_, i) => `D-${11201 + i}`)
    .filter(name => !NOTABLE_PERSONNEL[name]); // Ensure no overlap with hand-crafted D-class

export const PROCEDURAL_D_CLASS_DOSSIERS: Record<string, string> = {};
proceduralDClassNames.forEach(name => {
    PROCEDURAL_D_CLASS_DOSSIERS[name] = generateProceduralDossier(name);
});

// --- END: Procedural D-Class Generation System ---


// Create a single, unified source for all personnel dossiers
export const ALL_PERSONNEL_DOSSIERS: Record<string, string> = {
    ...NOTABLE_PERSONNEL,
    // Add other non-notable staff here if needed, for now we just have procedurals
    "Sargento Marcus Davis": "Líder de escuadrón de las FDM estricto pero justo, secretamente preocupado por el creciente estrés y la fatiga de su equipo.",
    "Guardia Rodriguez": "Compañero habitual de Chenkov. Más nervioso, a menudo se deja llevar por los atajos de Chenkov a pesar de saber que está mal.",
    "Guardia 'Rookie' Miller": "Un guardia recién asignado. Ansioso por demostrar su valía, pero su inexperiencia le hace cometer errores o reaccionar de forma exagerada.",
    "Agente Foster": "Agente de campo que trabaja como los 'ojos y oídos' del Comité de Ética. Asignado para observar discretamente los experimentos de alto riesgo y reportar a la Dra. Sharma.",
    "Anya Sharma": "Guardia de seguridad. Una profesional sólida y fiable. Su nombre idéntico al del enlace del Comité de Ética causa frecuentes confusiones burocráticas.",
    "Agente Marcus Thorne": "Agente de campo de Nivel 3. Sin relación con los doctores Thorne. Se especializa en la recuperación inicial de objetos anómalos.",
    ...PROCEDURAL_D_CLASS_DOSSIERS,
};

// A full list of D-Class names for reference
export const D_CLASS_ROSTER: string[] = Object.keys(ALL_PERSONNEL_DOSSIERS).filter(name => name.startsWith('D-'));

// A combined list for easier initialization in the Personnel Tracker
export const ALL_PERSONNEL_NAMES: string[] = Object.keys(ALL_PERSONNEL_DOSSIERS);